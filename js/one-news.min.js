(()=>{"use strict";function e(e){const t=document.querySelector(e);if(!t)return void console.warn(`Modal with selector "${e}" not found`);const n=t.querySelector(".modal__overlay"),o=t.querySelector(".modal__content"),r=t.querySelector(".modal__close-btn"),s=document.querySelector(".header"),a=()=>{t.classList.remove("modal_active"),document.body.style.overflow="",document.body.style.paddingRight="",s.style.paddingRight=""};return r&&r.addEventListener("click",a),n&&n.addEventListener("click",a),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("modal_active")&&a()}),o&&o.addEventListener("click",e=>{e.stopPropagation()}),{open:()=>{const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${e}px`,s.style.paddingRight=`${e}px`,t.classList.add("modal_active"),document.body.style.overflow="hidden"},close:a,element:t}}const t=()=>{const t=e(".make-request-modal"),n=e(".success-modal"),o=(()=>{const e=document.querySelector(".make-request-form"),o=e.querySelector(".button");if(!e)return;const r={},s={},a={name:e=>e.trim()?e.length>=3||"Username must be at least 3 characters":"Name is required","last-name":e=>e.trim()?e.length>=3||"Last name must be at least 3 characters":"Last name is required",phone:e=>e.trim()?/^[0-9]{10}$/.test(e)||"Phone must be 10 digits":"Phone is required",email:e=>e.trim()?/\S+@\S+\.\S+/.test(e)||"Invalid email format":"Email is required",city:e=>e.trim()?e.length>=3||"City must be at least 3 characters":"City is required","property-type":e=>!!e.trim()||"Property type is required",area:e=>!!e.trim()||"Area is required"};function c(e,t){const n=a[e];if(!n)return null;const o=n(t);return!0===o?null:o}function l(e,t){let n=null,o=null;"property-type"===e.name?(n=e.parentElement.parentElement,o=n.querySelector(".error")):(n=e.parentElement,o=n.querySelector(".error")),t?(o.textContent=t,o.classList.add("active")):(o.textContent="",o.classList.remove("active"))}function i(){const e=Object.values(s).some(e=>null!==e),t=["name","last-name","phone","email","city","property-type","area"].every(e=>""!==r[e].trim());o.disabled=e||!t}return Array.from(e.elements).forEach(e=>{e.name&&(r[e.name]="",s[e.name]=null)}),i(),e.addEventListener("input",e=>{const{name:t,value:n}=e.target;if(t){if(r[t]=n,s[t]){const o=c(t,n);s[t]=o,l(e.target,o)}i()}}),e.addEventListener("blur",e=>{const{name:t,value:n}=e.target;if(!t)return;if("area"===t)return;const o=c(t,n);s[t]=o,l(e.target,o),i()},!0),e.addEventListener("submit",e=>{e.preventDefault(),(e=>{console.log("formState",e),t.close(),n.open()})(r)}),{resetForm:function(){e.reset(),Object.keys(r).forEach(e=>r[e]=""),Object.keys(s).forEach(e=>s[e]=null),e.querySelectorAll(".error").forEach(e=>{e.textContent="",e.classList.remove("active")}),i()}}})();!function(e,t){const n=document.querySelectorAll(e);0!==n.length?n.forEach(e=>{e.addEventListener("click",t)}):console.warn(`No elements found with selector "${e}"`)}(".make-request-btn",()=>{o.resetForm(),t.open()})};window.addEventListener("load",()=>{const e=document.getElementById("preloader"),t=document.getElementById("percent"),n=document.querySelector(".text");let o=0;const r=setInterval(()=>{o<100?(o++,t.textContent=`${o}%`):(clearInterval(r),n.textContent="HILIGHT",setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.style.display="none"},500)},600))},20)}),document.addEventListener("DOMContentLoaded",function(){var e;!function(){const e=document.querySelector(".header__menu-button"),t=document.querySelector(".hamburger"),n=document.querySelector(".header"),o=document.querySelector(".menu-button__text"),r=document.querySelector(".nav-menu-mobile");e&&e.addEventListener("click",function(){const s=t.classList.toggle("is-open");e.setAttribute("aria-expanded",s?"true":"false"),n.classList.toggle("is-open"),o.classList.toggle("is-open"),r.classList.toggle("is-open"),document.body.style.overflow=s?"hidden":"auto"})}(),function(){const e=document.querySelector(".header");e&&window.addEventListener("scroll",function(){window.scrollY>1?e.classList.add("header_scrolled"):e.classList.remove("header_scrolled")})}(),function(){const e=document.querySelector(".hamburger"),t=document.querySelector(".header"),n=document.querySelector(".menu-button__text"),o=document.querySelector(".nav-menu-mobile"),r=document.querySelector(".header__menu-button");e&&t&&n&&o&&r&&window.addEventListener("resize",function(){e.classList.contains("is-open")&&(e.classList.remove("is-open"),t.classList.remove("is-open"),n.classList.remove("is-open"),o.classList.remove("is-open"),r.setAttribute("aria-expanded","false"),document.body.style.overflow="auto")})}(),t(),e={slidesPerView:1.193,spaceBetween:26,breakpoints:{768:{spaceBetween:20,slidesPerView:1.72},1024:{slidesPerView:2.719,spaceBetween:40},1440:{slidesPerView:3.53,spaceBetween:48}}},new Swiper(".latest-news__swiper",{...e})})})();
(()=>{"use strict";function e(e){const t=document.querySelector(e);if(!t)return void console.warn(`Modal with selector "${e}" not found`);const r=t.querySelector(".modal__overlay"),n=t.querySelector(".modal__content"),o=t.querySelector(".modal__close-btn"),s=document.querySelector(".header"),a=()=>{t.classList.remove("modal_active"),document.body.style.overflow="",document.body.style.paddingRight="",s.style.paddingRight=""};return o&&o.addEventListener("click",a),r&&r.addEventListener("click",a),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("modal_active")&&a()}),n&&n.addEventListener("click",e=>{e.stopPropagation()}),{open:()=>{const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${e}px`,s.style.paddingRight=`${e}px`,t.classList.add("modal_active"),document.body.style.overflow="hidden"},close:a,element:t}}const t=()=>{const t=e(".make-request-modal"),r=e(".success-modal"),n=(()=>{const e=document.querySelector(".make-request-form"),n=e.querySelector(".button");if(!e)return;const o={},s={},a={name:e=>e.trim()?e.length>=3||"Username must be at least 3 characters":"Name is required","last-name":e=>e.trim()?e.length>=3||"Last name must be at least 3 characters":"Last name is required",phone:e=>e.trim()?/^[0-9]{10}$/.test(e)||"Phone must be 10 digits":"Phone is required",email:e=>e.trim()?/\S+@\S+\.\S+/.test(e)||"Invalid email format":"Email is required",city:e=>e.trim()?e.length>=3||"City must be at least 3 characters":"City is required","property-type":e=>!!e.trim()||"Property type is required",area:e=>!!e.trim()||"Area is required"};function c(e,t){const r=a[e];if(!r)return null;const n=r(t);return!0===n?null:n}function i(e,t){let r=null,n=null;"property-type"===e.name?(r=e.parentElement.parentElement,n=r.querySelector(".error")):(r=e.parentElement,n=r.querySelector(".error")),t?(n.textContent=t,n.classList.add("active")):(n.textContent="",n.classList.remove("active"))}function l(){const e=Object.values(s).some(e=>null!==e),t=["name","last-name","phone","email","city","property-type","area"].every(e=>""!==o[e].trim());n.disabled=e||!t}return Array.from(e.elements).forEach(e=>{e.name&&(o[e.name]="",s[e.name]=null)}),l(),e.addEventListener("input",e=>{const{name:t,value:r}=e.target;if(t){if(o[t]=r,s[t]){const n=c(t,r);s[t]=n,i(e.target,n)}l()}}),e.addEventListener("blur",e=>{const{name:t,value:r}=e.target;if(!t)return;if("area"===t)return;const n=c(t,r);s[t]=n,i(e.target,n),l()},!0),e.addEventListener("submit",e=>{e.preventDefault(),(e=>{console.log("formState",e),t.close(),r.open()})(o)}),{resetForm:function(){e.reset(),Object.keys(o).forEach(e=>o[e]=""),Object.keys(s).forEach(e=>s[e]=null),e.querySelectorAll(".error").forEach(e=>{e.textContent="",e.classList.remove("active")}),l()}}})();!function(e,t){const r=document.querySelectorAll(e);0!==r.length?r.forEach(e=>{e.addEventListener("click",t)}):console.warn(`No elements found with selector "${e}"`)}(".make-request-btn",()=>{n.resetForm(),t.open()})};function r(e,t){t.textContent="HILIGHT",setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.style.display="none"},500)},600)}(()=>{const e=document.querySelector(".preloader"),t=document.getElementById("percent"),n=document.querySelector(".text"),o=document.images,s=o.length;let a=0;if(0!==s)for(let c=0;c<s;c++){const i=new Image;i.onload=i.onerror=()=>{a++;const o=Math.round(a/s*100);t.textContent=`${o}%`,o>=100&&r(e,n)},i.src=o[c].src}else r(e,n)})(),document.addEventListener("DOMContentLoaded",function(){!function(){const e=document.querySelector(".header__menu-button"),t=document.querySelector(".hamburger"),r=document.querySelector(".header"),n=document.querySelector(".menu-button__text"),o=document.querySelector(".nav-menu-mobile");e&&e.addEventListener("click",function(){const s=t.classList.toggle("is-open");e.setAttribute("aria-expanded",s?"true":"false"),r.classList.toggle("is-open"),n.classList.toggle("is-open"),o.classList.toggle("is-open"),document.body.style.overflow=s?"hidden":"auto"})}(),function(){const e=document.querySelector(".header");e&&window.addEventListener("scroll",function(){window.scrollY>1?e.classList.add("header_scrolled"):e.classList.remove("header_scrolled")})}(),function(){const e=document.querySelector(".hamburger"),t=document.querySelector(".header"),r=document.querySelector(".menu-button__text"),n=document.querySelector(".nav-menu-mobile"),o=document.querySelector(".header__menu-button");e&&t&&r&&n&&o&&window.addEventListener("resize",function(){e.classList.contains("is-open")&&(e.classList.remove("is-open"),t.classList.remove("is-open"),r.classList.remove("is-open"),n.classList.remove("is-open"),o.setAttribute("aria-expanded","false"),document.body.style.overflow="auto")})}(),t(),(()=>{const e=document.querySelector(".hero__dropdown"),t=e.querySelector(".dropdown__button"),r=e.querySelector(".dropdown__selected"),n=e.querySelectorAll(".dropdown__option"),o=e.querySelector('input[type="hidden"]'),s=()=>{t.setAttribute("aria-expanded","false")};t.addEventListener("click",()=>{const e="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!e)}),n.forEach(e=>{e.addEventListener("click",()=>(e=>{n.forEach(e=>e.removeAttribute("aria-selected")),e.setAttribute("aria-selected","true"),r.textContent=e.textContent.trim(),o.value=e.dataset.value,s();const t=new Event("change",{bubbles:!0});o.dispatchEvent(t)})(e))}),document.addEventListener("click",t=>{e.contains(t.target)||s()})})(),((e,t)=>{const r=document.querySelector(".hero__tabs");if(!r)return;const n=r.querySelectorAll("[data-tab-target]");n.forEach(e=>{e.addEventListener("click",()=>((e,t,r)=>{e.forEach(e=>{e.classList.remove("tabs__button_active"),e.setAttribute("aria-selected","false")}),t.classList.add("tabs__button_active"),t.setAttribute("aria-selected","true"),r&&r(t.dataset.tabTarget)})(n,e,t))})})(0,e=>{const t=document.querySelector(".projects-list__list"),r=Array.from(t.children);if("house"===e)return t.style.gridTemplateRows="",void r.forEach(e=>{e.classList.remove("hidden"),e.style.gridArea=""});t.style.gridTemplateRows="1fr",r.forEach((t,r)=>{t.classList.add("hidden"),"apartments"===e&&0===r?t.classList.remove("hidden"):"commerce"===e&&1===r?(t.classList.remove("hidden"),t.style.gridArea="item-1"):"architecture"===e&&2===r&&t.classList.remove("hidden")})})})})();